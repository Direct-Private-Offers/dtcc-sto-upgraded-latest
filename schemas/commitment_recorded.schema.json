{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "CommitmentRecorded",
  "description": "Schema for the CommitmentRecorded event emitted when an off-chain payment commitment is recorded",
  "type": "object",
  "properties": {
    "investor": {
      "type": "string",
      "pattern": "^0x[a-fA-F0-9]{40}$",
      "description": "Ethereum address of the investor"
    },
    "amount": {
      "type": "string",
      "description": "Committed amount in smallest unit"
    },
    "currency": {
      "type": "string",
      "description": "Currency code matching the offering base currency"
    },
    "paymentRef": {
      "type": "string",
      "description": "PSP or bank payment reference ID"
    },
    "timestamp": {
      "type": "number",
      "description": "Unix timestamp of the event"
    }
  },
  "required": ["investor", "amount", "currency", "paymentRef"]
}
